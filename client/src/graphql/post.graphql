fragment body on postBody {
    blocks {
        depth,
        key,
        text,
        type,
        entityRanges {
            key,
            length,
            offset
        },
        inlineStyleRanges {
            length,
            offset,
            style
        }
    }
    entityMap {
        data {
            src
        },
        mutability,
        type,
    }
}

fragment postComment on Comment {
    id,
    text,
    user {
        email
    },
    createdAt,
    replies {
        id
    },
    replyId
}

query Post($id: Int!) {
    getPost(id: $id) {
        id,
        title,
        body {
            ...body
        },
        comments {
            ...postComment
        }
    }
}

query Posts {
    posts {
        title,
        body {
            ...body
        },
        id
    }
}

query PostsPreviews($skip: Int!, $take: Int!) {
    totalItems: getAmountOfPosts,
    postsPreview(skip: $skip, take: $take) {
        bodyPreview,
        imageSrc,
        title,
        id
    }
}

mutation AddPost($title: String!, $body: postBodyInput!) {
    addPost(title: $title, body: $body) {
        body {
            ...body
        },
        id,
        title,
    }
}

mutation DeletePost($id: Float!) {
    deletePost(id: $id) {
        ok
    }
}

mutation LeaveComment($postId: Int!, $text: String!, $replyId: Int) {
    leaveComment(postId: $postId, text: $text, replyId: $replyId) {
        ...postComment
    }
}